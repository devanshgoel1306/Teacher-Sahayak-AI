{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/create-differentiated-materials.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview This file contains the Genkit flow for creating differentiated worksheets from an image of a textbook page or from a topic.\n *\n * - createDifferentiatedMaterials - A function that handles the creation of differentiated worksheets.\n * - CreateDifferentiatedMaterialsInput - The input type for the createDifferentiatedMaterials function.\n * - CreateDifferentiatedMaterialsOutput - The return type for the createDifferentiatedMaterials function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst gradeEnum = z.enum([\n  'Grade 1',\n  'Grade 2',\n  'Grade 3',\n  'Grade 4',\n  'Grade 5',\n  'Grade 6',\n  'Grade 7',\n  'Grade 8',\n  'Grade 9',\n  'Grade 10',\n]);\n\nconst CreateDifferentiatedMaterialsInputSchema = z.object({\n  photoDataUris: z\n    .array(z.string())\n    .optional()\n    .describe(\n      \"Photos of a textbook page, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  gradeLevels: z\n    .array(gradeEnum)\n    .describe('The grade levels for which to generate differentiated worksheets.'),\n  subject: z\n    .string()\n    .optional()\n    .describe('The subject for the worksheet (e.g., Math, Science).'),\n  lessonTopic: z\n    .string()\n    .optional()\n    .describe('The specific lesson or topic for the worksheet.'),\n  numberOfQuestionsPerGrade: z\n    .number()\n    .optional()\n    .describe('The number of questions to generate per grade (optional).'),\n});\nexport type CreateDifferentiatedMaterialsInput = z.infer<\n  typeof CreateDifferentiatedMaterialsInputSchema\n>;\n\nconst CreateDifferentiatedMaterialsOutputSchema = z.object({\n  worksheets: z.array(\n    z.object({\n      gradeLevel: gradeEnum,\n      worksheetContent: z.string().describe('The content of the generated worksheet.'),\n      answerKey: z.string().describe('The answer key for the generated worksheet.'),\n    })\n  ),\n});\nexport type CreateDifferentiatedMaterialsOutput = z.infer<\n  typeof CreateDifferentiatedMaterialsOutputSchema\n>;\n\nexport async function createDifferentiatedMaterials(\n  input: CreateDifferentiatedMaterialsInput\n): Promise<CreateDifferentiatedMaterialsOutput> {\n  return createDifferentiatedMaterialsFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'createDifferentiatedMaterialsPrompt',\n  input: {schema: CreateDifferentiatedMaterialsInputSchema},\n  output: {schema: CreateDifferentiatedMaterialsOutputSchema},\n  prompt: `You are an expert teacher specializing in creating differentiated worksheets for multi-grade classrooms.\n\nYou will be provided with either photos of textbook pages OR a subject and lesson topic, and a list of grade levels. Your task is to generate differentiated worksheets for each grade level, including fill-in-the-blanks, true/false, and Q&A sections, along with an answer key.\n\nMake sure the worksheets are engaging and appropriate for the specified grade level.\n\n{{#if photoDataUris}}\nThe worksheet content should be based on the following textbook pages:\n{{#each photoDataUris}}\n{{media url=this}}\n{{/each}}\n{{else}}\nThe worksheet content should be based on the following:\nSubject: {{subject}}\nLesson/Topic: {{lessonTopic}}\n{{/if}}\n\nGrade Levels: {{gradeLevels}}\nNumber of Questions per Grade: {{numberOfQuestionsPerGrade}}\n\nOutput the worksheets in a structured format, including the worksheet content and the corresponding answer key for each grade level.\n`,\n});\n\nconst createDifferentiatedMaterialsFlow = ai.defineFlow(\n  {\n    name: 'createDifferentiatedMaterialsFlow',\n    inputSchema: CreateDifferentiatedMaterialsInputSchema,\n    outputSchema: CreateDifferentiatedMaterialsOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAGA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,YAAY,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,2CAA2C,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACxD,eAAe,uIAAA,CAAA,IAAC,CACb,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IACd,QAAQ,GACR,QAAQ,CACP;IAEJ,aAAa,uIAAA,CAAA,IAAC,CACX,KAAK,CAAC,WACN,QAAQ,CAAC;IACZ,SAAS,uIAAA,CAAA,IAAC,CACP,MAAM,GACN,QAAQ,GACR,QAAQ,CAAC;IACZ,aAAa,uIAAA,CAAA,IAAC,CACX,MAAM,GACN,QAAQ,GACR,QAAQ,CAAC;IACZ,2BAA2B,uIAAA,CAAA,IAAC,CACzB,MAAM,GACN,QAAQ,GACR,QAAQ,CAAC;AACd;AAKA,MAAM,4CAA4C,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzD,YAAY,uIAAA,CAAA,IAAC,CAAC,KAAK,CACjB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,YAAY;QACZ,kBAAkB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACtC,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACjC;AAEJ;AAKO,eAAe,8BACpB,KAAyC;IAEzC,OAAO,kCAAkC;AAC3C;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAwC;IACxD,QAAQ;QAAC,QAAQ;IAAyC;IAC1D,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;AAqBX,CAAC;AACD;AAEA,MAAM,oCAAoC,mHAAA,CAAA,KAAE,CAAC,UAAU,CACrD;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IA3CoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/worksheets/actions.ts"],"sourcesContent":["\n\"use server\";\n\nimport { createDifferentiatedMaterials } from \"@/ai/flows/create-differentiated-materials\";\nimport type { CreateDifferentiatedMaterialsInput } from \"@/ai/flows/create-differentiated-materials\";\nimport { z } from \"zod\";\n\nconst gradeEnum = z.enum([\n    'Grade 1',\n    'Grade 2',\n    'Grade 3',\n    'Grade 4',\n    'Grade 5',\n    'Grade 6',\n    'Grade 7',\n    'Grade 8',\n    'Grade 9',\n    'Grade 10',\n  ]);\n\nconst worksheetsSchema = z.object({\n  photoDataUris: z.array(z.string()).optional(),\n  gradeLevels: z.array(gradeEnum),\n  subject: z.string().optional(),\n  lessonTopic: z.string().optional(),\n  numberOfQuestionsPerGrade: z.number().optional(),\n});\n\n\nexport async function createDifferentiatedMaterialsAction(input: CreateDifferentiatedMaterialsInput) {\n    const validatedInput = worksheetsSchema.parse({\n        ...input,\n        gradeLevels: input.gradeLevels as any\n    });\n\n  try {\n    const result = await createDifferentiatedMaterials(validatedInput);\n    return result;\n  } catch (error) {\n    console.error(\"Error generating worksheets:\", error);\n    return { worksheets: [] };\n  }\n}\n"],"names":[],"mappings":";;;;;AAGA;AAEA;;;;;;AAEA,MAAM,YAAY,oIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEH,MAAM,mBAAmB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChC,eAAe,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ;IAC3C,aAAa,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC5B,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,2BAA2B,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAChD;AAGO,eAAe,oCAAoC,KAAyC;IAC/F,MAAM,iBAAiB,iBAAiB,KAAK,CAAC;QAC1C,GAAG,KAAK;QACR,aAAa,MAAM,WAAW;IAClC;IAEF,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,2JAAA,CAAA,gCAA6B,AAAD,EAAE;QACnD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,YAAY,EAAE;QAAC;IAC1B;AACF;;;IAbsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/text-to-speech.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview A Genkit flow for synthesizing text into speech.\n * \n * - synthesizeSpeech - A function that converts text to audio.\n * - SynthesizeSpeechInput - The input type for the synthesizeSpeech function.\n * - SynthesizeSpeechOutput - The return type for the synthesizeSpeech function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport wav from 'wav';\nimport { googleAI } from '@genkit-ai/googleai';\n\n\nconst SynthesizeSpeechInputSchema = z.object({\n  text: z.string().describe('The text to synthesize.'),\n  languageCode: z.string().optional().default('en-IN').describe('The language for the speech.'),\n});\nexport type SynthesizeSpeechInput = z.infer<typeof SynthesizeSpeechInputSchema>;\n\nconst SynthesizeSpeechOutputSchema = z.object({\n    audioDataUri: z.string().describe(\"The synthesized audio as a data URI. Expected format: 'data:audio/wav;base64,<encoded_data>'.\"),\n});\nexport type SynthesizeSpeechOutput = z.infer<typeof SynthesizeSpeechOutputSchema>;\n\n\nexport async function synthesizeSpeech(\n  input: SynthesizeSpeechInput\n): Promise<SynthesizeSpeechOutput> {\n  return synthesizeSpeechFlow(input);\n}\n\nasync function toWav(\n  pcmData: Buffer,\n  channels = 1,\n  rate = 24000,\n  sampleWidth = 2\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const writer = new wav.Writer({\n      channels,\n      sampleRate: rate,\n      bitDepth: sampleWidth * 8,\n    });\n\n    let bufs: any[] = [];\n    writer.on('error', reject);\n    writer.on('data', function (d) {\n      bufs.push(d);\n    });\n    writer.on('end', function () {\n      resolve(Buffer.concat(bufs).toString('base64'));\n    });\n\n    writer.write(pcmData);\n    writer.end();\n  });\n}\n\nconst synthesizeSpeechFlow = ai.defineFlow(\n  {\n    name: 'synthesizeSpeechFlow',\n    inputSchema: SynthesizeSpeechInputSchema,\n    outputSchema: SynthesizeSpeechOutputSchema,\n  },\n  async ({ text }) => {\n    if (!text) {\n        return { audioDataUri: '' };\n    }\n\n    try {\n        const { media } = await ai.generate({\n            model: googleAI.model('gemini-2.5-flash-preview-tts'),\n            config: {\n                responseModalities: ['AUDIO'],\n                speechConfig: {\n                voiceConfig: {\n                    prebuiltVoiceConfig: { voiceName: 'Algenib' },\n                },\n                },\n            },\n            prompt: text.substring(0, 5000), // Enforce a character limit\n        });\n\n        if (!media) {\n            throw new Error('No audio media returned from TTS model.');\n        }\n\n        const audioBuffer = Buffer.from(\n            media.url.substring(media.url.indexOf(',') + 1),\n            'base64'\n        );\n        \n        const wavBase64 = await toWav(audioBuffer);\n\n        return {\n            audioDataUri: 'data:audio/wav;base64,' + wavBase64,\n        };\n    } catch (error) {\n        console.error('Text-to-speech API error:', error);\n        throw new Error('Failed to synthesize speech.');\n    }\n  }\n);\n"],"names":[],"mappings":";;;;;AAGA;;;;;;CAMC,GAED;AACA;AAAA;AACA;AACA;AAAA;;;;;;;;AAGA,MAAM,8BAA8B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3C,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,OAAO,CAAC,SAAS,QAAQ,CAAC;AAChE;AAGA,MAAM,+BAA+B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1C,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACtC;AAIO,eAAe,iBACpB,KAA4B;IAE5B,OAAO,qBAAqB;AAC9B;AAEA,eAAe,MACb,OAAe,EACf,WAAW,CAAC,EACZ,OAAO,KAAK,EACZ,cAAc,CAAC;IAEf,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI,4HAAA,CAAA,UAAG,CAAC,MAAM,CAAC;YAC5B;YACA,YAAY;YACZ,UAAU,cAAc;QAC1B;QAEA,IAAI,OAAc,EAAE;QACpB,OAAO,EAAE,CAAC,SAAS;QACnB,OAAO,EAAE,CAAC,QAAQ,SAAU,CAAC;YAC3B,KAAK,IAAI,CAAC;QACZ;QACA,OAAO,EAAE,CAAC,OAAO;YACf,QAAQ,OAAO,MAAM,CAAC,MAAM,QAAQ,CAAC;QACvC;QAEA,OAAO,KAAK,CAAC;QACb,OAAO,GAAG;IACZ;AACF;AAEA,MAAM,uBAAuB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACxC;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO,EAAE,IAAI,EAAE;IACb,IAAI,CAAC,MAAM;QACP,OAAO;YAAE,cAAc;QAAG;IAC9B;IAEA,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mHAAA,CAAA,KAAE,CAAC,QAAQ,CAAC;YAChC,OAAO,2KAAA,CAAA,WAAQ,CAAC,KAAK,CAAC;YACtB,QAAQ;gBACJ,oBAAoB;oBAAC;iBAAQ;gBAC7B,cAAc;oBACd,aAAa;wBACT,qBAAqB;4BAAE,WAAW;wBAAU;oBAChD;gBACA;YACJ;YACA,QAAQ,KAAK,SAAS,CAAC,GAAG;QAC9B;QAEA,IAAI,CAAC,OAAO;YACR,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,cAAc,OAAO,IAAI,CAC3B,MAAM,GAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,OAAO,CAAC,OAAO,IAC7C;QAGJ,MAAM,YAAY,MAAM,MAAM;QAE9B,OAAO;YACH,cAAc,2BAA2B;QAC7C;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,MAAM,IAAI,MAAM;IACpB;AACF;;;IA5EoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/worksheets/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createDifferentiatedMaterialsAction as '40876159b983e83caf16176472efb6e1040507795d'} from 'ACTIONS_MODULE0'\nexport {synthesizeSpeech as '40df10d4f37c0a9fcd0bccfa1a8013c58464b0b4d1'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/worksheets/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/worksheets/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/worksheets/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","debugId":null}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/worksheets/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/worksheets/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/worksheets/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}